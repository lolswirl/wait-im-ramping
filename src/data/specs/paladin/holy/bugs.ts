import SPELLS from '@data/spells';
import TALENTS from '@data/specs/paladin/holy/talents';
import ITEMS from '@data/items';
import { Bug, SEVERITY, STATUS } from "@data/bugs";
import { TAGS } from "@data/shared/tags";

const BUGS: Bug[] = [
    {
        spell: SPELLS.DIVINE_TOLL,
        affectedSpells: [SPELLS.HOLY_SHOCK],
        severity: SEVERITY.HIGH,
        title: "Fails to fire all Holy Shocks when cast on self",
        description: "When casting Divine Toll on yourself, it will consistently fail to fire off all of its Holy Shocks.",
        tags: [],
        lastBuildTested: "19 September",
    },
    {
        spell: TALENTS.PILLARS_OF_LIGHT,
        affectedSpells: [TALENTS.BEACON_OF_FAITH],
        severity: SEVERITY.HIGH,
        title: "Doesn't scale with Mastery/Haste/Crit when using Beacon of Faith",
        description: "Pillars of Light healing when specced in to Beacon of Faith does not scale with Mastery, the tick rate doesnt scale with Haste, and they cannot Crit.",
        tags: [TAGS.MASTERY, TAGS.HASTE, TAGS.CRIT],
        lastBuildTested: "19 September",
    },
    {
        spell: TALENTS.HAMMER_AND_ANVIL,
        affectedSpells: [],
        severity: SEVERITY.HIGH,
        title: "Healing doesn't scale with Mastery",
        description: "Hammer and Anvils healing does not scale with Mastery.",
        tags: [TAGS.LIGHTSMITH, TAGS.MASTERY],
        lastBuildTested: "9 September",
    },
    {
        spell: TALENTS.POWER_OF_THE_SILVER_HAND,
        affectedSpells: [],
        severity: SEVERITY.HIGH,
        title: "Calculated before Mastery",
        description: "How much healing gets stored by Power of the Silver Hand is calculated before Mastery. If you have 50% Mastery and you heal for 150k, it will only store healing as if you did 100k.",
        tags: [TAGS.MASTERY],
        lastBuildTested: "11 August",
    },
    {
        spell: TALENTS.POWER_OF_THE_SILVER_HAND,
        affectedSpells: [],
        severity: SEVERITY.MEDIUM,
        title: "Effective healing to absorb shields doesn't count",
        description: "Effective healing done to healing absorb shields does not count towards stacking up healing towards the next Holy Shock with Power of the Silver Hand",
        tags: [],
        lastBuildTested: "24 August",
    },
    {
        spell: TALENTS.SUNS_AVATAR,
        affectedSpells: [TALENTS.DAWNLIGHT],
        severity: SEVERITY.MEDIUM,
        title: "Beams stay active after Dawnlights expire",
        description: "The beams and thus the healing and damage of Suns Avatar can sometimes stay active even after the Dawnlights have expired. Cause unknown.",
        tags: [TAGS.HERALD_OF_THE_SUN],
        lastBuildTested: "14 August",
    },
    {
        spell: TALENTS.RISING_SUNLIGHT,
        affectedSpells: [SPELLS.AVENGING_WRATH, SPELLS.DIVINE_TOLL],
        severity: SEVERITY.MEDIUM,
        title: "Stops functioning completely",
        description: "Rising Sunlight can bug out and just stop functioning. You will get the stacks from casting Wings and Divine Toll, but you cannot consume them. This is an old bug that is usually fixable by untalenting it and relogging. Cause unknown.",
        tags: [],
        lastBuildTested: "16 August",
    },
    {
        spell: TALENTS.GLEAMING_RAYS,
        affectedSpells: [TALENTS.DAWNLIGHT],
        severity: SEVERITY.MEDIUM,
        title: "Falls off too soon with Dawnlight on self",
        description: "Gleaming Rays fall off too soon when you have a Dawnlight active on yourself.",
        tags: [TAGS.HERALD_OF_THE_SUN],
        lastBuildTested: "30 August",
    },
    {
        spell: SPELLS.LAY_ON_HANDS,
        affectedSpells: [TALENTS.EMPYREAL_WARD],
        severity: SEVERITY.MEDIUM,
        title: "Sometimes unlearned when swapping talent builds",
        description: "Lay on Hands is sometimes unlearned when swapping between talent builds that have and do not have Empyreal Ward talented. Also happens when swapping between Holy, Retribution, and Protection. Relogging fixes it.",
        tags: [],
        lastBuildTested: "17 July",
    },
    {
        spell: SPELLS.BEACON_OF_LIGHT,
        affectedSpells: [TALENTS.BEACON_OF_FAITH, SPELLS.BEACON_OF_VIRTUE],
        severity: SEVERITY.MEDIUM,
        title: "Randomly stop working",
        description: "Beacons can randomly stop working. Seems to happen sometimes when getting knocked far such as going into phase 2 on Queen Ansurek or on Raszageth but is definitely not consistent. Been a bug for over a decade.",
        tags: [],
        notes: "Impossible to test as the true cause is unknown",
    },
    {
        spell: SPELLS.DIVINE_TOLL,
        affectedSpells: [],
        severity: SEVERITY.MEDIUM,
        title: "Ninja pulls neutral mobs",
        description: "Divine Toll can ninja pull Neutral/Yellow mobs that are not in combat.",
        tags: [],
        lastBuildTested: "19 August",
    },
    {
        spell: TALENTS.SECOND_SUNRISE,
        affectedSpells: [TALENTS.DIVINE_PURPOSE, SPELLS.LIGHT_OF_DAWN],
        severity: SEVERITY.LOW,
        title: "Free Light of Dawn consumes Divine Purpose procs",
        description: "The free Light of Dawn from Second Sunrise can sometimes immediately consume Divine Purpose procs from the initial Light of Dawn",
        tags: [TAGS.HERALD_OF_THE_SUN],
        lastBuildTested: "18 August",
    },
    {
        spell: ITEMS.NEXUS_KINGS_COMMAND,
        affectedSpells: [SPELLS.DIVINE_SHIELD],
        severity: SEVERITY.LOW,
        title: "Debuff removed by immunities",
        description: "The debuff from the Nexus-Kings Command trinket can be removed with Divine Shield and other similar effects like Anti-Magic Shell.",
        tags: [TAGS.TRINKETS],
        lastBuildTested: "28 August",
    },
    {
        spell: TALENTS.DAWNLIGHT,
        affectedSpells: [SPELLS.HOLY_PRISM],
        severity: SEVERITY.LOW,
        title: "Second application doesn't apply with high haste",
        description: "Not a 'bug' per se, but the second Dawnlight after casting Holy Prism does not apply when casting spenders back to back with very high haste due to there being a 900ms cooldown on how fast it can be consumed which is pretty jarring and annoying.",
        tags: [TAGS.HASTE, TAGS.HERALD_OF_THE_SUN],
        lastBuildTested: "1 August",
    },
    {
        spell: TALENTS.BREAKING_DAWN,
        affectedSpells: [SPELLS.LIGHT_OF_DAWN],
        severity: SEVERITY.LOW,
        title: "Causes incorrect Light of Dawn tooltip range",
        description: "Having 1 point in Breaking Dawn causes the tooltip of Light of Dawn to state a 40 yard range even though it is correctly only 25 yards.",
        tags: [],
        lastBuildTested: "26 July",
    },
    {
        spell: TALENTS.LIBERATION,
        affectedSpells: [SPELLS.FLASH_OF_LIGHT],
        severity: SEVERITY.LOW,
        title: "Reduces Flash of Light mana cost without stating it",
        description: "Liberation also reduces the Mana cost of Flash of Light even though the tooltip does not state this.",
        tags: [],
        lastBuildTested: "26 July",
    },
    {
        spell: TALENTS.LIGHT_OF_THE_MARTYR,
        affectedSpells: [SPELLS.HOLY_SHOCK],
        severity: SEVERITY.LOW,
        title: "Holy Shock doesn't create absorb if healing absorbed",
        description: "Holy Shock does not create an absorb shield with Light of the Martyr if Holy Shocks healing is absorbed.",
        tags: [],
        lastBuildTested: "20 June",
    },
    {
        spell: ITEMS.T34_LIGHTSMITH_4SET,
        affectedSpells: [],
        severity: SEVERITY.MEDIUM,
        title: "Tier set buffs go on pets",
        description: "The Lesser Bulwark and Weapons from the Lightsmith tier set can go on pets.",
        tags: [TAGS.PETS, TAGS.LIGHTSMITH, TAGS.TIER],
        notes: "Only happens when there aren't enough valid party or raid members",
        status: STATUS.FIXED,
    },
    {
        spell: SPELLS.ETERNAL_FLAME,
        affectedSpells: [SPELLS.BEACON_OF_LIGHT],
        severity: SEVERITY.CRITICAL,
        title: "Initial heal doesn't transfer to Beacons",
        description: "Eternal Flame's initial direct heal doesnt transfer to Beacons. The HoT doesnt either, but I pressume that bit is intended with the new way Beacons work.",
        tags: [],
        status: STATUS.FIXED,
    },
    {
        spell: ITEMS.T34_LIGHTSMITH_4SET,
        affectedSpells: [TALENTS.MASTERWORK],
        severity: SEVERITY.HIGH,
        title: "Extra Masterwork stack applies 5 armaments instead of 1",
        description: "Gaining an extra stack of Masterwork when already on 5 stacks, applies 5 Lesser Armaments to allies instead of just 1.",
        tags: [TAGS.LIGHTSMITH, TAGS.TIER],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.POWER_OF_THE_SILVER_HAND,
        affectedSpells: [],
        severity: SEVERITY.MEDIUM,
        title: "Present twice in talent tree",
        description: "Power of the Silver Hand is present twice in the talent tree.",
        tags: [],
        status: STATUS.FIXED,
    },
    {
        spell: ITEMS.T34_LIGHTSMITH_4SET,
        affectedSpells: [],
        severity: SEVERITY.LOW,
        title: "Buffs can't go on Paladin if other targets available",
        description: "Lesser Weapons and Bulwarks from the Lightsmith Tier Set can not go on the Paladin themself if any other target is available.",
        tags: [TAGS.LIGHTSMITH, TAGS.TIER],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.SUNS_AVATAR,
        affectedSpells: [TALENTS.SOLAR_WRATH, SPELLS.AVENGING_WRATH],
        severity: SEVERITY.CRITICAL,
        title: "Deactivates when Solar Wrath expires",
        description: "If Avenging Wrath is activated while a prior Solar Wrath is still running, Suns Avatar will deactivate as soon as the Solar Wrath buff expires even if the Dawnlights and Avenging Wrath are both still active. New Dawnlights applied to new targets will correctly create new Suns Avatar beams, but even refreshing existing Dawnlights will not.",
        tags: [TAGS.HERALD_OF_THE_SUN],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.AVENGING_CRUSADER,
        affectedSpells: [TALENTS.SUNS_AVATAR],
        severity: SEVERITY.CRITICAL,
        title: "Suns Avatar beams disappear after one tick",
        description: "The beams from Suns Avatar disappear after ticking a single time when talented into Avenging Crusader.",
        tags: [TAGS.HERALD_OF_THE_SUN],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.HAMMER_AND_ANVIL,
        affectedSpells: [],
        severity: SEVERITY.CRITICAL,
        title: "Doesn't heal anybody when triggered",
        description: "Hammer and Anvil doesn't heal anybody when it triggers.",
        tags: [TAGS.LIGHTSMITH],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.HAMMER_AND_ANVIL,
        affectedSpells: [],
        severity: SEVERITY.CRITICAL,
        title: "Radius starts at target hitbox center",
        description: "The radius of Hammer and Anvil starts at the center of the Targets Hitbox, which likely means that Lightsmith with the new Tier Set being built around HnA, will be utterly useless on large raid bosses like Fractilus.",
        tags: [TAGS.LIGHTSMITH],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.DAWNLIGHT,
        affectedSpells: [SPELLS.HOLY_PRISM],
        severity: SEVERITY.LOW,
        title: "Tooltip says 6 instead of 2",
        description: "The tooltip of Dawnlight in the Hero Tree says you can apply 6 Dawnlights after casting Holy Prism but you can 'only' apply 2. The tooltip should obviously only say 2.",
        tags: [TAGS.HERALD_OF_THE_SUN],
        status: STATUS.FIXED,
    },
    {
        spell: TALENTS.LAYING_DOWN_ARMS,
        affectedSpells: [SPELLS.HOLY_BULWARK, SPELLS.SACRED_WEAPON],
        severity: SEVERITY.MEDIUM,
        title: "Can cancelaura Holy Armaments for immediate Infusion of Light",
        description: "Not technically a bug, but you can cancelaura Holy Bulwark and/or Sacred Weapon to immediately gain the Infusion of Light buff from Laying Down Arms. This could lead to some, in my opinion, degenerate gameplay that would be super unintuitive for the average player.",
        tags: [TAGS.LIGHTSMITH],
        notes: "Could lead to degenerate gameplay",
        status: STATUS.FIXED,
    },
    {
        spell: SPELLS.BLESSING_OF_SEASONS,
        affectedSpells: [],
        severity: SEVERITY.MEDIUM,
        title: "Blessing of Summer fails to hit large distant mobs",
        description: "Blessing of Summer will fail to hit large mobs that are too far away, such as Dimensius in Phase 1. Seems like its range is calculated to the center of the mob?",
        tags: [],
        status: STATUS.FIXED,
    },
    {
        spell: ITEMS.NEXUS_KINGS_COMMAND,
        affectedSpells: [SPELLS.WORD_OF_GLORY, SPELLS.ETERNAL_FLAME],
        severity: SEVERITY.LOW,
        title: "Word of Glory and Eternal Flame don't count as direct healing",
        description: "Word of Glory and Eternal Flame do not count as direct healing when it comes to activating Nexus-King's Command's Oathbound buff.",
        tags: [TAGS.TRINKETS],
        status: STATUS.FIXED,
    },
    {
        spell: SPELLS.DIVINE_TOLL,
        affectedSpells: [TALENTS.RISING_SUNLIGHT],
        severity: SEVERITY.CRITICAL,
        title: "Immediately consumes first Rising Sunlight stack",
        description: "As of 9 September, something has changed that causes Divine Toll to consume the first stack of its Rising Sunlight immediately. Happens as both Lightsmith and Herald, so the bug is not related to Second Sunrise.",
        tags: [TAGS.HERALD_OF_THE_SUN, TAGS.LIGHTSMITH],
        status: STATUS.FIXED,
    },
];

export default BUGS;